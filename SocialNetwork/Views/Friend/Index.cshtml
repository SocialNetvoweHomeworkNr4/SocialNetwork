@model PagedList.IPagedList<BusinessLogic.Models.User>
@using PagedList.Mvc;

@{
    ViewBag.Title = "Index";
}

<div class="alert alert-success">
    <h2>My Friends: </h2>
</div>

<div class="row">
    @{
        int counter = 1;

        foreach (var user in Model)
        {
            <div class="col-sm-3">
                @if (user.Avatar != null)
                {
                    <img class="user-image" src="~/Images/@user.Avatar" />
                }
                else
                {
                    <img class="user-image" src="~/Images/default.gif" />
                }
                
                <button class="btn btn-danger remove-friend" data-userId="@user.UserID"><span class="glyphicon glyphicon-minus"></span></button>

                <div class="text-center user-name">
                    <h4>@user.FirstName @user.LastName</h4>
                </div>
                
            </div>

            if (counter % 4 == 0)
            {
                <div class="clearfix custom-class"></div>
            }

            counter++;
        }
    }
</div>

<div id="removeFriendModal" class="modal fade" role="dialog">
</div>

Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) of @Model.PageCount

@Html.PagedListPager(Model, page => Url.Action("Index",
    new { page }))



@section scripts{
    @Scripts.Render("~/bundles/friends")

    <script>
        $(function () {
            friends.init();
        });
    </script>
}
